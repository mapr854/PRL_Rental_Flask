{% extends 'base.html' %}
{% block content %}

<h1 class="display-4 text-center mt-4"> Crear o Actualizar Contratos</h1>
<br>

<div class="container">
    <div class="card">
        <div class="card-body">
            <form method="post" action="{{ url_for('contrato.update_contrato', edit_id =edit_id) }}">
                {% if contrato.id %}
                <input type="hidden" name="item_id" value="{{  contrato.id  }}">
                {% endif %}
                <div class="container">
                    <div class=" row my-3">
                        <div class="col form-group">
                            <label for="contractType"class="form-label">Tipo contrato</label>
                            <select class="form-select" id="contractType" name="contractType" aria-describedby="contractType">
                            {% for item in rentalType %}
                                <option value="{{  item  }}" {% if contrato.contractType == item %} selected {% endif %}>
                                    {{  item  }}                                     
                                </option>
                            {% endfor %}
                            </select>
                        </div>
                        <div class="col">
                            <label for="months" class="form-label"># meses</label>
                            <input type="number" class="form-control" name="months" value= {{ contrato.months }} id="months" aria-describedby="months" required>
                        </div>
                        <div class="col form-group">
                            <label for="estado" class="form-label">Estado</label>
                            <select class="form-select" id="estado" name="estado" aria-describedby="estado">
                                {% for estado in estados %}
                                <option value="{{  estado  }}" {% if contrato.estado == estado %} selected {% endif %}>
                                    {{  estado  }}                                     
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    <div class=" row my-3">
                        <div class="col">
                            <label for="precio" class="form-label">Precio</label>
                            <input type="number" class="form-control" id="precio" name="precio" value= {{ contrato.precio }} aria-describedby="precio" required>
                        </div>
                        <div class="col">
                            <label for="administracion" class="form-label">Administracion</label>
                            <input type="number" class="form-control" id="administracion" name="administracion" value= {{ contrato.administracion }} aria-describedby="administracion" required>
                        </div>
                    </div>
                    <div class=" row my-3">
                        <div class="col">
                            <label for="startDate">Fecha Inicio:</label>
                            <input type="date" name="startDate" value= {{ contrato.startDate |default('')  }} required>
                        </div>
                        <div class="col">
                            <label for="endDate">Fecha Final:</label>
                            <input type="date" name="endDate" value= {{ contrato.endDate |default('')  }} >
                        </div>
                    </div>
                    <div class="row my-3">
                        <div class="col">
                            <label for="bono" class="form-label">Bono</label>
                            <input type="number" class="form-control" id="bono" name="bono" value= {{ contrato.bono }} aria-describedby="bono" required>
                        </div>
                        <div class="col">
                            <label for="poliza" class="form-label">Poliza</label>
                            <input type="text" class="form-control" id="poliza"  name="poliza"  value= {{ contrato.poliza |replace(' ', '&nbsp;') | safe }} aria-describedby="poliza" maxlength="50" required>
                        </div>
                        
                    </div>
                    <div class="row my-3">
                        <div class="col form-group">
                            <label for="arrendador_id" class="form-label">Id Arrendador</label>
                            <select class="form-select" id="arrendador_id" name="arrendador_id" aria-describedby="arrendador_id">
                                {% for person in arrendadorList %}
                                <option value="{{  person.id  }}" {% if contrato.arrendador_id == person.id %} selected {% endif %}>
                                    {{  person.idnumber  }}  - {{person.nombres}} {{person.apellidos}}                                   
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="col form-group">
                            <label for="inmueble_id" class="form-label">Inmueble</label>
                            <select class="form-select" id="inmueble_id" name="inmueble_id" aria-describedby="inmueble_id">
                                {% for inm in inmuebleList %}
                                <option value="{{  inm.id  }}" {% if contrato.inmueble_id == inm.id %} selected {% endif %}>
                                    
                                    {{inm.tipo }} : {{inm.name}} - {{inm.apartamento}} . {{inm.habitaciones}} 
                                                                      
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    
                    <div class="row my-3">
                        <div class="col">
                            <button type="submit" class="btn btn-primary" >Siguiente</button>
                        </div>
                    </div>
                </div>
                </div>
               
                
                
              </form>
        </div>
    </div>
</div>



{% endblock %}